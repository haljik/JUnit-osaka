## テストダブル

* JMokitoはやりすぎ。あらゆるものをモック化できてしまう為、
最適な設計を見失う。なので、Mockitoを使いつつ、どうしても必要な時に
PowerMockを混ぜると良い。

* DDDのアグリゲートバウンダリとつながるなぁ。
   単一コンポーネントとその他をMock化したテストと、
   バウンダリレベルのインテグレーション
   テストレベルとつながる

* Stubはダミー。動けばよい。
* MockはStubに検証責務をつけたものる
* Spyはそのまま

* ありがちな事としてMockですべての
   状況をアサートをしてしまう。

* 相互作用に着目したテストは、内部実装に依存したテストではないのではないか
  相互作用に着目したテスト自体はOKで、内部実装に依存しているテストになりがち
  なので気をつけろ的な

* テストの設計が重要
   環境に依存するものはコンストラクタで渡すようにするとか、
   現在時刻はそとから渡せるようにするとか、
   いつでもMock化できる事が大事。
   テストステージを分ける（設計する）
      ・単体テストはモックで(すべてではない）
      ・結合テストは本物で

* Mockはテスト対象のテストをやる時の技術的制約をうまく突破する為の道具

* コンポーネントテストレベルでSpyの出力先をOreentDBなどに記録するようにすると捗る
   CIのコミットステージ

* テストダブルの種類
   http://goyoki.hatenablog.com/entry/20120301/1330608789

* DBマイグレーション
   http://www.liquibase.org/
   ディプロマティックイミュニティ対策としてよさげやなぁ

* 
